<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STACKFORM // Enterprise OS v4.5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <style>
        /* FIXED: REMOVED PURPLISH OUTLINES - ACCENT FULLY BLUE #2F6BFF */
        :root { --bg: #050505; --card: #0a0a0a; --accent: #2F6BFF; --border: rgba(255,255,255,0.06); }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: #fff; overflow: hidden; letter-spacing: -0.01em; }
        
        *:focus { outline: none !important; box-shadow: none !important; }

        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass { background: rgba(5, 5, 5, 0.75); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); }
        .linear-border { border: 1px solid var(--border); }
        .custom-scroll::-webkit-scrollbar { width: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        
        .levitate-btn { transition: all 300ms cubic-bezier(.2,.85,.2,1); box-shadow: none; }
        
        .levitate-btn:hover { 
            border-color: rgba(47, 107, 255, 0.4); 
            box-shadow: 0 8px 25px rgba(47, 107, 255, 0.1); 
            transform: translateY(-2px); 
        }

        .levitate-btn.border-rose-500\/20:hover {
            border-color: rgba(244, 63, 94, 0.3) !important;
            box-shadow: 0 4px 12px rgba(244, 63, 94, 0.1) !important;
            transform: translateY(-2px);
        }

        .card-glow { transition: all 300ms ease; box-shadow: none; }
        .card-glow:hover {
            transform: translateY(-2px);
            border-color: rgba(47, 107, 255, 0.3);
            box-shadow: 0 8px 25px rgba(47, 107, 255, 0.1);
        }

        .nav-item { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1px solid transparent; }
        .nav-item:hover { padding-left: 1.5rem; color: white; }
        .nav-item:active { transform: scale(0.97); }

        .grid-bg { background-image: radial-gradient(circle at 2px 2px, rgba(255,255,255,0.02) 1px, transparent 0); background-size: 32px 32px; }
        .shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.03), transparent); background-size: 200% 100%; animation: shimmer 5s infinite; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        [x-cloak] { display: none !important; }

        .page-enter { animation: slideIn 0.65s cubic-bezier(0.16, 1, 0.3, 1) both; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(15px); filter: blur(10px); } to { opacity: 1; transform: translateY(0); filter: blur(0); } }
        
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }

        /* ENSURING NO PURPLISH TINTS - FORCE BLUE */
        .text-indigo-500, .text-indigo-400 { color: #2F6BFF !important; }
        .bg-indigo-500, .bg-indigo-600 { background-color: #2F6BFF !important; }
        .border-indigo-500\/20, .border-indigo-500\/30 { border-color: rgba(47, 107, 255, 0.3) !important; }
        .bg-indigo-500\/10 { background-color: rgba(47, 107, 255, 0.1) !important; }
        
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; opacity: 0.4; }

        @keyframes pulse-emerald { 0%, 100% { box-shadow: 0 0 12px rgba(16, 185, 129, 0.5); } 50% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.8); } }
        @keyframes pulse-ruby { 0%, 100% { box-shadow: 0 0 12px rgba(244, 63, 94, 0.5); } 50% { box-shadow: 0 0 20px rgba(244, 63, 94, 0.8); } }
        
        .status-dot { transition: background-color 0.5s ease, box-shadow 0.5s ease; }
        .glow-emerald { animation: pulse-emerald 2.5s infinite; background-color: #10b981 !important; }
        .glow-ruby { animation: pulse-ruby 2.5s infinite; background-color: #f43f5e !important; }

        .maintenance-btn-final {
            background: transparent;
            transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
            position: relative;
            cursor: pointer;
        }
        
        .maintenance-btn-final.nominal {
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }
        .maintenance-btn-final.nominal:hover {
            transform: translateY(-2px);
            border-color: rgba(16, 185, 129, 0.6);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
        }

        .maintenance-btn-final.locked {
            border: 1px solid rgba(244, 63, 94, 0.3);
            color: #f43f5e;
        }
        .maintenance-btn-final.locked:hover {
            transform: translateY(-2px);
            border-color: rgba(244, 63, 94, 0.6);
            box-shadow: 0 8px 25px rgba(244, 63, 94, 0.2);
        }

        /* CIRCULAR CLOSE BUTTON STYLES */
        .close-btn-circular {
            width: 44px;
            height: 44px;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(255, 255, 255, 0.02);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .close-btn-circular:hover {
            background-color: rgba(244, 63, 94, 0.2);
            box-shadow: 0 0 20px rgba(244, 63, 94, 0.4);
            border-color: rgba(244, 63, 94, 0.5);
            color: #f43f5e !important;
            transform: translateY(-2px);
        }

        .back-btn-hover:hover {
            color: #2F6BFF !important;
            background: rgba(47, 107, 255, 0.1);
            border-color: rgba(47, 107, 255, 0.2);
        }

        /* CALENDAR STYLES */
        .month-tab { cursor: pointer; transition: all 0.2s; border-bottom: 2px solid transparent; position: relative; }
        .month-tab.active { border-color: #2F6BFF; color: white; }

        /* GLOBAL CHANGE: The Month Selector Hover */
        .nav-link::after { 
            content: ''; 
            position: absolute; 
            bottom: -2px; 
            height: 3px; 
            width: 0; 
            background-color: #2F6BFF; /* Your accent color */
            right: 0; 
            transition: width 0.4s ease; 
        }
        .nav-link:hover::after { 
            width: 100%; 
            left: 0; 
        }

        /* NEW: Pulse Ring for Network Nodes */
        .pulse-ring {
            position: relative;
            width: 12px;
            height: 12px;
        }
        .pulse-ring::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #2F6BFF;
            animation: ripple 2s infinite;
        }
        @keyframes ripple {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(3); opacity: 0; }
        }

        /* UPDATED DEPLOYMENT BUTTON GLOWS */
        .btn-sapphire:hover { border-color: rgba(15, 82, 186, 0.4) !important; box-shadow: 0 8px 25px rgba(15, 82, 186, 0.15) !important; }
        .btn-sapphire:hover .icon-box { background: rgba(15, 82, 186, 0.2) !important; border-color: rgba(15, 82, 186, 0.4) !important; color: #0F52BA !important; }

        .btn-emerald:hover { border-color: rgba(80, 200, 120, 0.4) !important; box-shadow: 0 8px 25px rgba(80, 200, 120, 0.15) !important; }
        .btn-emerald:hover .icon-box { background: rgba(80, 200, 120, 0.2) !important; border-color: rgba(80, 200, 120, 0.4) !important; color: #50C878 !important; }

        .btn-ruby:hover { border-color: rgba(224, 17, 95, 0.4) !important; box-shadow: 0 8px 25px rgba(224, 17, 95, 0.15) !important; }
        .btn-ruby:hover .icon-box { background: rgba(224, 17, 95, 0.2) !important; border-color: rgba(224, 17, 95, 0.4) !important; color: #E0115F !important; }

        .btn-quartz:hover { border-color: rgba(225, 225, 225, 0.3) !important; box-shadow: 0 8px 25px rgba(225, 225, 225, 0.1) !important; }
        .btn-quartz:hover .icon-box { background: rgba(225, 225, 225, 0.15) !important; border-color: rgba(225, 225, 225, 0.3) !important; color: #E1E1E1 !important; }
        
        .rebooting { animation: pulse 0.1s infinite !important; opacity: 0.5 !important; }

        /* UPDATED: NOTIFICATION HIGHLIGHT PULSE - LESS VIBRANT */
        @keyframes row-pulse {
            0% { box-shadow: 0 0 0 0px rgba(47, 107, 255, 0.2); }
            100% { box-shadow: 0 0 0 12px rgba(47, 107, 255, 0); }
        }
        .highlight-pulse {
            position: relative;
            z-index: 50;
            border-color: rgba(47, 107, 255, 0.4) !important;
            background: rgba(47, 107, 255, 0.05) !important;
            animation: row-pulse 2s infinite ease-out;
        }

        .notification-card:hover .glow-bg {
            opacity: 1;
        }
    </style>
</head>
<body class="grid-bg" x-data="{ 
    page: 'dashboard', 
    lead: null, 
    notifications: 0,
    showNotifPanel: false,
    currentTime: '',
    search: '',
    inbox: [],
    ghStats: { views: 0 },
    maintenanceActive: false,
    systemLogs: ['> System initialized...', '> Uplink secure...', '> Waiting for user command...'],
    liveNodes: [
        {n:'FRA (Frankfurt)', s:100, t:'Operational'}, 
        {n:'SIN (Singapore)', s:100, t:'Operational'}, 
        {n:'IAD (US-East)', s:100, t:'Operational'}
    ],
    currentYear: 2024,
    currentMonth: 'JAN',
    months: ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'],
    yearHoldTimer: null,
    yearInterval: null,
    settings: { 
        edgeCaching: true, 
        aiResponse: true, 
        apiShield: true, 
        autoOptimize: true,
        debugMode: false, 
        threatDetection: true, 
        neuralScaling: true,
        quantumEncryption: true,
        biometricLock: false,
        stealthMode: false,
        autoDefragment: true,
        proxyTunneling: true,
        loadBalancing: true
    },
    toggleMaintenance() {
        this.maintenanceActive = !this.maintenanceActive;
        localStorage.setItem('maintenanceMode', this.maintenanceActive);
    },
    startYearChange(dir) {
        this.yearHoldTimer = setTimeout(() => {
            this.yearInterval = setInterval(() => {
                this.currentYear += dir;
                this.refreshData();
            }, 100);
        }, 1500);
    },
    stopYearChange(dir, cancel = false) {
        if (!this.yearInterval && !cancel) {
            this.currentYear += dir;
            this.refreshData();
        }
        clearTimeout(this.yearHoldTimer);
        clearInterval(this.yearInterval);
        this.yearHoldTimer = null;
        this.yearInterval = null;
    },
    refreshData() {
        updateChart();
    },
    async fetchGithubData() {
        try {
            const vRes = await fetch(`https://api.github.com/repos/stackformdev/stackformdev.github.io/traffic/views`);
            const vData = await vRes.json();
            this.ghStats.views = vData.count || 0;
            if(vData.views) updateChart(vData.views);
        } catch(e) { console.error('GitHub API Error', e); }
    },
    revalidateCache() {
        this.fetchGithubData();
        this.systemLogs.push('> EDGE_CACHE_PURGED: Revalidating stackformdev.github.io...');
    },
    async syncGlobalNodes() {
        try {
            const res = await fetch('https://www.githubstatus.com/api/v2/summary.json');
            const data = await res.json();
            const components = data.components;
            const fra = components.find(c => c.name === 'API Requests');
            this.liveNodes[0].t = fra ? fra.status.replace('_', ' ') : 'Unknown';
            this.liveNodes[0].s = this.liveNodes[0].t === 'operational' ? 100 : 50;
            const sin = components.find(c => c.name === 'GitHub Pages');
            this.liveNodes[1].t = sin ? sin.status.replace('_', ' ') : 'Unknown';
            this.liveNodes[1].s = this.liveNodes[1].t === 'operational' ? 100 : 50;
            const iad = components.find(c => c.name === 'Git Operations');
            this.liveNodes[2].t = iad ? iad.status.replace('_', ' ') : 'Unknown';
            this.liveNodes[2].s = this.liveNodes[2].t === 'operational' ? 100 : 50;
            this.systemLogs.push('> GLOBAL_NODE_SYNC: Infrastructure status updated.');
        } catch(e) { 
            this.systemLogs.push('> SYNC_ERROR: External status uplink failed.');
        }
    },
    engageNuclearLockdown() {
        localStorage.removeItem('site_inquiries');
        localStorage.setItem('maintenanceMode', 'true');
        window.location.reload();
    },
    softReboot() {
        this.systemLogs = [];
        document.body.classList.add('rebooting');
        setTimeout(() => {
            document.body.classList.remove('rebooting');
            this.systemLogs.push('> System initialized...');
            this.systemLogs.push('> Uplink secure...');
            this.systemLogs.push('> Reboot sequence complete.');
        }, 500);
    },
    loadLeads() {
        const data = JSON.parse(localStorage.getItem('site_inquiries') || '[]');
        this.inbox = data;
        this.notifications = data.filter(l => l.status === 'NEW').length;
        this.maintenanceActive = localStorage.getItem('maintenanceMode') === 'true';
    },
    markAsRead(id) {
        let current = JSON.parse(localStorage.getItem('site_inquiries') || '[]');
        let index = current.findIndex(l => l.id === id);
        if(index !== -1) {
            current[index].status = 'VERIFIED';
            localStorage.setItem('site_inquiries', JSON.stringify(current));
            this.loadLeads();
        }
    },
    deleteLead(id) {
        let current = JSON.parse(localStorage.getItem('site_inquiries') || '[]');
        current = current.filter(l => l.id !== id);
        localStorage.setItem('site_inquiries', JSON.stringify(current));
        this.loadLeads();
    },
    /* PROTOCOL: Navigation & Highlight */
    async navigateToLead(id) {
        this.showNotifPanel = false;
        this.page = 'inquiries';
        await this.$nextTick();
        setTimeout(() => {
            const el = document.getElementById(`lead-row-${id}`);
            if(el) {
                el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                el.classList.add('highlight-pulse');
                setTimeout(() => el.classList.remove('highlight-pulse'), 3000);
            }
        }, 300);
    },
    init() { 
        const now = new Date();
        this.currentYear = now.getFullYear();
        this.currentMonth = this.months[now.getMonth()];
        setInterval(() => { this.currentTime = new Date().toLocaleTimeString() }, 1000);
        initParticles();
        this.loadLeads();
        initChart();
        this.fetchGithubData();
        window.addEventListener('storage', () => this.loadLeads());
    }
}">

    <canvas id="particle-canvas"></canvas>

    <div class="flex h-screen w-full relative z-10 overflow-hidden">
        <aside class="w-72 glass border-r border-white/5 flex flex-col shrink-0">
            <div class="p-8 pb-10 flex items-center">
                <span style="font-family: 'Montserrat'; font-weight: 900; font-size: 1.8rem; letter-spacing: -2px; color: #FFFFFF; text-transform: uppercase;">STACKFORM</span>
            </div>
            
            <nav class="flex-1 px-4 space-y-8 overflow-y-auto custom-scroll">
                <div>
                    <p class="text-[10px] font-bold text-zinc-600 uppercase tracking-widest px-4 mb-4">Core Fleet</p>
                    <div class="space-y-1">
                        <template x-for="item in [
                            {id:'dashboard', n:'Command Center', icon: 'M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2-2v-2z'},
                            {id:'inquiries', n:'Lead Pipeline', icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z'},
                            {id:'insights', n:'Neural Insights', icon: 'M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z'}
                        ]">
                            <button @click="page = item.id" :class="page === item.id ? 'bg-indigo-500/10 text-indigo-400 border-indigo-500/20' : 'text-zinc-500 border-transparent'" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-xs font-bold transition-all border relative active:scale-95">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" :d="item.icon"></path></svg>
                                <span x-text="item.n"></span>
                                <template x-if="item.id === 'inquiries' && notifications > 0">
                                    <div class="ml-auto flex items-center gap-2">
                                        <span class="text-[9px] font-black text-rose-500 uppercase">NEW</span>
                                        <div class="w-5 h-5 rounded-md bg-rose-500 text-white text-[10px] flex items-center justify-center font-bold" x-text="notifications"></div>
                                    </div>
                                </template>
                            </button>
                        </template>
                    </div>
                </div>

                <div>
                    <p class="text-[10px] font-bold text-zinc-600 uppercase tracking-widest px-4 mb-4">Security & Logs</p>
                    <div class="space-y-1">
                        <template x-for="item in [
                            {id:'firewall', n:'Threat Shield', icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z'},
                            {id:'logs', n:'System Console', icon: 'M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'},
                            {id:'settings', n:'Infrastructure', icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z'}
                        ]">
                            <button @click="page = item.id" :class="page === item.id ? 'bg-indigo-500/10 text-indigo-400 border-indigo-500/20' : 'text-zinc-500 border-transparent'" class="nav-item w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-xs font-bold transition-all border active:scale-95">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" :d="item.icon"></path></svg>
                                <span x-text="item.n"></span>
                            </button>
                        </template>
                    </div>
                </div>
            </nav>

            <div class="p-6 border-t border-white/5">
                <div class="flex items-center gap-3 bg-indigo-500/5 p-4 rounded-2xl border border-indigo-500/10">
                    <div class="w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center font-bold text-xs shadow-lg">AD</div>
                    <div>
                        <p class="text-[11px] font-bold">Admin_Node_04</p>
                        <p class="text-[9px] text-indigo-400 font-bold uppercase tracking-widest" x-text="currentTime"></p>
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col min-w-0 bg-[#050505]">
            <header class="h-20 border-b border-white/5 flex items-center justify-between px-10 glass shrink-0 relative z-20">
                <div class="relative w-full max-w-md group"></div>
                <div class="flex items-center gap-6">
                    <button @click="showNotifPanel = true" class="relative p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-90 group">
                        <span x-show="notifications > 0" class="absolute top-2 right-2 w-2.5 h-2.5 bg-rose-500 rounded-full animate-pulse border-2 border-black"></span>
                        <svg class="w-6 h-6 text-zinc-400 group-hover:text-[#2F6BFF] transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" stroke-width="1.5"></path></svg>
                    </button>
                </div>
            </header>

            <div x-show="showNotifPanel" x-cloak class="fixed inset-0 z-[150]">
                <div @click="showNotifPanel = false" class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
                <div 
                    x-show="showNotifPanel"
                    x-transition:enter="transition ease-out duration-500 transform"
                    x-transition:enter-start="translate-x-full"
                    x-transition:enter-end="translate-x-0"
                    x-transition:leave="transition ease-in duration-400 transform"
                    x-transition:leave-start="translate-x-0"
                    x-transition:leave-end="translate-x-full"
                    class="absolute top-0 right-0 h-full w-96 glass border-l border-white/10 shadow-2xl flex flex-col"
                >
                    <div class="p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]">
                        <div>
                            <p class="text-[10px] font-black text-[#2F6BFF] uppercase tracking-[0.3em]">Transmission Hub</p>
                            <h3 class="text-xl font-bold tracking-tighter">Notifications</h3>
                        </div>
                        <button @click="showNotifPanel = false" class="close-btn-circular text-zinc-500">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>

                    <div class="flex-1 overflow-y-auto custom-scroll p-4 space-y-3">
                        <template x-for="n in inbox.filter(i => i.status === 'NEW')" :key="n.id">
                            <div @click="navigateToLead(n.id)" class="notification-card group relative p-5 rounded-2xl bg-white/[0.03] border border-white/5 hover:border-[#2F6BFF]/30 cursor-pointer transition-all hover:-translate-y-1 hover:shadow-xl active:scale-[0.98]">
                                <div class="glow-bg absolute inset-0 bg-[#2F6BFF]/5 opacity-0 transition-opacity rounded-2xl"></div>
                                <div class="relative z-10 space-y-2">
                                    <div class="flex justify-between items-start">
                                        <p class="font-bold text-sm text-white" x-text="n.name"></p>
                                        <span class="text-[8px] font-mono text-zinc-500">NOW</span>
                                    </div>
                                    <p class="text-xs text-zinc-400 line-clamp-2 italic" x-text="n.message"></p>
                                    <div class="pt-2 flex items-center gap-2">
                                        <span class="text-[9px] font-black text-[#2F6BFF] uppercase tracking-widest" x-text="n.service"></span>
                                    </div>
                                </div>
                            </div>
                        </template>
                        <template x-if="inbox.filter(i => i.status === 'NEW').length === 0">
                            <div class="h-full flex flex-col items-center justify-center opacity-20 space-y-4">
                                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="1" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0a2 2 0 01-2 2H6a2 2 0 01-2-2m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg>
                                <p class="text-[10px] font-black uppercase tracking-[0.2em]">Queue Clear</p>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto custom-scroll p-10 space-y-12 pb-32">
                <div x-show="page === 'dashboard'" x-cloak class="page-enter space-y-12">
                    <div class="flex justify-between items-end">
                        <div class="stagger-1">
                            <h2 class="text-5xl font-extrabold tracking-tighter">Systems <span class="text-indigo-500">Hub</span></h2>
                            <p class="text-zinc-500 mt-2 font-medium">Real-time status of your global decentralized network.</p>
                        </div>
                    </div>

                    <div class="linear-border bg-zinc-900/40 rounded-[2.5rem] p-8 stagger-2">
                        <div class="flex items-center justify-center gap-10 mb-8">
                            <button @mousedown="startYearChange(-1)" @mouseup="stopYearChange(-1)" @mouseleave="stopYearChange(-1, true)" class="text-zinc-500 hover:text-white transition-all transform active:scale-75">
                                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="3" d="M15 19l-7-7 7-7"></path></svg>
                            </button>
                            <div class="text-center">
                                <p class="text-[9px] font-black text-indigo-500 uppercase tracking-[0.4em] mb-1">ARCHIVE YEAR</p>
                                <h3 class="text-6xl font-black tracking-tighter w-48" x-text="currentYear"></h3>
                            </div>
                            <button @mousedown="startYearChange(1)" @mouseup="stopYearChange(1)" @mouseleave="stopYearChange(1, true)" class="text-zinc-500 hover:text-white transition-all transform active:scale-75">
                                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="3" d="M9 5l7 7-7 7"></path></svg>
                            </button>
                        </div>
                        <div class="flex justify-between border-t border-white/5 pt-6 overflow-x-auto custom-scroll">
                            <template x-for="m in months">
                                <div @click="currentMonth = m; refreshData()" :class="currentMonth === m ? 'month-tab active text-white' : 'text-zinc-500'" class="month-tab nav-link px-4 py-2 text-[10px] font-black uppercase tracking-widest hover:text-white" x-text="m"></div>
                            </template>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <div class="p-8 rounded-[2rem] linear-border bg-zinc-900/20 card-glow relative overflow-hidden group stagger-1 page-enter">
                            <p class="text-[10px] font-black text-zinc-500 uppercase tracking-[0.2em] mb-4">Website Clicks</p>
                            <h2 class="text-4xl font-bold tracking-tighter" x-text="ghStats.views || '---'"></h2>
                            <span class="text-[9px] text-indigo-400 font-black uppercase mt-4 block">LIVE REPO VIEWS</span>
                        </div>
                        <template x-for="(s, index) in [
                            {l: 'Neural Compute', v: '92.4 TFLOPS', u: 'Peak', c: 'indigo'},
                            {l: 'Live Leads', v: inbox.length, u: notifications + ' New', c: 'emerald'},
                            {l: 'Threats Blocked', v: '1,042', u: 'Safe', c: 'rose'}
                        ]">
                            <div :class="'stagger-' + (index + 2)" class="p-8 rounded-[2rem] linear-border bg-zinc-900/20 card-glow relative overflow-hidden group page-enter">
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-[0.2em] mb-4" x-text="s.l"></p>
                                <h2 class="text-4xl font-bold tracking-tighter" x-text="s.v"></h2>
                                <div class="flex items-center gap-2 mt-6">
                                    <span :class="s.c === 'indigo' ? 'bg-[#2F6BFF]/10 text-[#2F6BFF] border-[#2F6BFF]/20' : `bg-${s.c}-500/10 text-${s.c}-400 border-${s.c}-500/20`" class="text-[9px] px-2 py-1 rounded-lg border font-black uppercase" x-text="s.u"></span>
                                </div>
                            </div>
                        </template>
                    </div>

                    <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
                        <div class="xl:col-span-2 p-10 rounded-[2.5rem] linear-border bg-gradient-to-br from-zinc-900/40 to-black h-[480px] flex flex-col relative overflow-hidden stagger-3 page-enter">
                            <div class="shimmer absolute inset-0 opacity-10"></div>
                            <h3 class="font-black text-xl mb-8">Interaction Density (<span x-text="currentMonth"></span> <span x-text="currentYear"></span>)</h3>
                            <div class="flex-1 relative z-10">
                                <canvas id="interactionChart"></canvas>
                            </div>
                        </div>

                        <div class="p-8 rounded-[2.5rem] linear-border bg-zinc-900/10 space-y-8 stagger-4 page-enter">
                            <h3 class="text-[10px] font-black text-zinc-600 uppercase tracking-widest">Live Node Health</h3>
                            <div class="space-y-6">
                                <template x-for="node in liveNodes">
                                    <div class="space-y-2 group cursor-pointer">
                                        <div class="flex justify-between items-end"><span class="text-xs font-bold text-zinc-400 group-hover:text-white transition-colors" x-text="node.n"></span><span class="text-[9px] font-black uppercase text-indigo-400" x-text="node.t"></span></div>
                                        <div class="w-full h-1.5 bg-white/5 rounded-full overflow-hidden">
                                            <div class="h-full bg-indigo-500 transition-all duration-1000" :style="`width: ${node.s}%`"></div>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>

                    <div class="stagger-4 page-enter">
                        <h3 class="text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-6 ml-1">Rapid Deployment Protocols</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                            <button @click="revalidateCache()" class="group relative p-6 rounded-[2rem] linear-border glass btn-sapphire transition-all flex flex-col gap-4 items-start overflow-hidden active:scale-95">
                                <div class="absolute top-0 right-0 w-24 h-24 bg-[#0F52BA]/5 blur-3xl -mr-12 -mt-12 group-hover:bg-[#0F52BA]/10 transition-colors"></div>
                                <div class="icon-box w-10 h-10 rounded-xl bg-[#0F52BA]/10 border border-[#0F52BA]/20 flex items-center justify-center text-[#0F52BA] group-hover:scale-110 transition-all duration-500 shadow-[0_0_15px_rgba(15,82,186,0.3)]">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                </div>
                                <div class="space-y-1 text-left">
                                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-400 group-hover:text-white transition-colors">Turbo Cache</span>
                                    <p class="text-[9px] font-bold text-[#0F52BA]/50 uppercase">Accelerate Edge</p>
                                </div>
                            </button>
                    
                            <button @click="syncGlobalNodes()" class="group relative p-6 rounded-[2rem] linear-border glass btn-emerald transition-all flex flex-col gap-4 items-start overflow-hidden active:scale-95">
                                <div class="absolute top-0 right-0 w-24 h-24 bg-[#50C878]/5 blur-3xl -mr-12 -mt-12 group-hover:bg-[#50C878]/10 transition-colors"></div>
                                <div class="icon-box w-10 h-10 rounded-xl bg-[#50C878]/10 border border-[#50C878]/20 flex items-center justify-center text-[#50C878] group-hover:scale-110 transition-all duration-500 shadow-[0_0_15px_rgba(80,200,120,0.3)]">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                </div>
                                <div class="space-y-1 text-left">
                                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-400 group-hover:text-white transition-colors">Health Sync</span>
                                    <p class="text-[9px] font-bold text-[#50C878]/50 uppercase">Cluster Align</p>
                                </div>
                            </button>
                    
                            <button @click="engageNuclearLockdown()" class="group relative p-6 rounded-[2rem] linear-border glass btn-ruby transition-all flex flex-col gap-4 items-start overflow-hidden active:scale-95">
                                <div class="absolute top-0 right-0 w-24 h-24 bg-[#E0115F]/5 blur-3xl -mr-12 -mt-12 group-hover:bg-[#E0115F]/10 transition-colors"></div>
                                <div class="icon-box w-10 h-10 rounded-xl bg-[#E0115F]/10 border border-[#E0115F]/20 flex items-center justify-center text-[#E0115F] group-hover:scale-110 transition-all duration-500 shadow-[0_0_15px_rgba(224,17,95,0.3)]">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                </div>
                                <div class="space-y-1 text-left">
                                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-400 group-hover:text-white transition-colors">Lockdown</span>
                                    <p class="text-[9px] font-bold text-[#E0115F]/50 uppercase">Zero-Trust</p>
                                </div>
                            </button>
                    
                            <button @click="softReboot()" class="group relative p-6 rounded-[2rem] linear-border glass btn-quartz transition-all flex flex-col gap-4 items-start overflow-hidden active:scale-95">
                                <div class="absolute top-0 right-0 w-24 h-24 bg-[#E1E1E1]/5 blur-3xl -mr-12 -mt-12 group-hover:bg-[#E1E1E1]/10 transition-colors"></div>
                                <div class="icon-box w-10 h-10 rounded-xl bg-[#E1E1E1]/10 border border-[#E1E1E1]/20 flex items-center justify-center text-[#E1E1E1] group-hover:scale-110 transition-all duration-500 shadow-[0_0_15px_rgba(225,225,225,0.3)]">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                </div>
                                <div class="space-y-1 text-left">
                                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-400 group-hover:text-white transition-colors">Reboot Node</span>
                                    <p class="text-[9px] font-bold text-[#E1E1E1]/50 uppercase">Hard Reset</p>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <div x-show="page === 'inquiries'" x-cloak class="page-enter space-y-10">
                    <h2 class="text-5xl font-extrabold tracking-tighter">Inbound <span class="text-indigo-500">Pipeline</span></h2>
                    <div class="linear-border rounded-[2.5rem] bg-zinc-900/20 overflow-hidden backdrop-blur-xl">
                        <table class="w-full text-left border-collapse">
                            <thead class="border-b border-white/5 text-[10px] font-black text-zinc-600 uppercase tracking-[0.2em] bg-white/[0.02]">
                                <tr>
                                    <th class="p-8">Entity Identity</th>
                                    <th class="p-8">Service Type</th>
                                    <th class="p-8">Status</th>
                                    <th class="p-8 text-right pr-12"></th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-white/5">
                                <template x-if="inbox.length === 0">
                                    <tr><td colspan="4" class="p-20 text-center text-zinc-600 font-bold uppercase text-[10px] tracking-widest">Waiting for transmissions...</td></tr>
                                </template>
                                <template x-for="l in inbox" :key="l.id">
                                    <tr :id="'lead-row-'+l.id" class="hover:bg-white/[0.04] transition-colors cursor-pointer group" @click="lead = l; if(l.status === 'NEW') markAsRead(l.id)">
                                        <td class="p-8">
                                            <div class="flex items-center gap-4 truncate">
                                                <div class="shrink-0 w-12 h-12 rounded-2xl bg-indigo-500/10 border border-indigo-500/20 flex items-center justify-center font-black text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-all" x-text="l.name.charAt(0)"></div>
                                                <div class="truncate"><p class="font-bold text-sm text-white" x-text="l.name"></p><p class="text-[10px] text-zinc-500 font-mono" x-text="l.email"></p></div>
                                            </div>
                                        </td>
                                        <td class="p-8 text-[10px] font-black text-zinc-400 uppercase tracking-widest" x-text="l.service"></td>
                                        <td class="p-8"><span :class="l.status === 'NEW' ? 'border-rose-500/20 text-rose-400 bg-rose-500/10' : 'border-emerald-500/20 text-emerald-400 bg-emerald-500/10'" class="px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border" x-text="l.status"></span></td>
                                        <td class="p-8 text-right pr-12"><svg class="w-4 h-4 ml-auto group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div x-show="page === 'insights'" x-cloak class="page-enter space-y-12">
                    <h2 class="text-5xl font-extrabold tracking-tighter">Neural <span class="text-indigo-500">Insights</span></h2>
                    <p class="text-zinc-500">Advanced analytics and predictive modeling.</p>
                </div>

                <div x-show="page === 'firewall'" x-cloak class="page-enter space-y-12">
                    <h2 class="text-5xl font-extrabold tracking-tighter">Threat <span class="text-rose-500">Shield</span></h2>
                    <div class="p-10 rounded-[2.5rem] border border-rose-500/20 bg-rose-500/5 relative overflow-hidden group hover:bg-rose-500/10 transition-colors levitate-btn">
                        <h3 class="text-2xl font-bold mb-4">Firewall Level: 09</h3>
                        <p class="text-sm text-zinc-500 leading-relaxed max-w-sm">Mitigating active intrusion attempts.</p>
                        <button class="px-6 py-3 bg-rose-600 hover:bg-rose-500 active:scale-95 transition-all rounded-xl text-[10px] font-black uppercase mt-8 levitate-btn">Isolate Threats</button>
                    </div>
                </div>

                <div x-show="page === 'logs'" x-cloak class="page-enter space-y-12">
                    <h2 class="text-5xl font-extrabold tracking-tighter">System <span class="text-zinc-400">Console</span></h2>
                    <div class="bg-black/40 p-6 rounded-2xl border border-white/5 mono text-xs text-emerald-500 h-96 overflow-y-auto custom-scroll">
                        <template x-for="log in systemLogs">
                            <p x-text="log"></p>
                        </template>
                    </div>
                </div>

                <div x-show="page === 'settings'" x-cloak class="page-enter space-y-12">
                    <div class="flex justify-between items-end">
                        <div class="stagger-1">
                            <h2 class="text-5xl font-extrabold tracking-tighter">Core <span class="text-indigo-500">Config</span></h2>
                            <p class="text-zinc-500 mt-2 font-medium">Control decentralized nodes and system-wide protocols.</p>
                        </div>
                    </div>
                    
                    <div class="stagger-2">
                        <button @click="toggleMaintenance()" :class="maintenanceActive ? 'locked' : 'nominal'" class="maintenance-btn-final w-full py-8 rounded-[1.5rem] flex items-center justify-center group active:scale-95">
                            <span class="font-black text-[11px] uppercase tracking-[0.5em]" x-text="maintenanceActive ? 'MAINTENANCE_ACTIVE // SYSTEM_LOCKED' : 'SYSTEM_NOMINAL // TRAFFIC_UNRESTRICTED'"></span>
                        </button>
                    </div>

                    <div class="grid grid-cols-1 xl:grid-cols-12 gap-10">
                        <div class="xl:col-span-8 grid grid-cols-1 md:grid-cols-2 gap-4 stagger-3">
                            <template x-for="(v, k) in settings">
                                <template x-if="typeof v === 'boolean'">
                                    <button @click="settings[k] = !settings[k]" class="p-8 rounded-[2rem] border border-white/5 bg-white/[0.01] hover:bg-white/[0.03] transition-all flex items-center justify-between group active:scale-95 levitate-btn">
                                        <div class="flex flex-col items-start gap-1">
                                            <span class="text-[10px] font-black uppercase tracking-widest text-zinc-500 group-hover:text-zinc-300 transition-colors" x-text="k.replace(/([A-Z])/g, ' $1')"></span>
                                            <span class="text-[9px] font-bold text-indigo-500/50 uppercase" x-text="settings[k] ? 'Active' : 'Standby'"></span>
                                        </div>
                                        <div :class="settings[k] ? 'glow-emerald' : 'glow-ruby'" class="status-dot w-2.5 h-2.5 rounded-full"></div>
                                    </button>
                                </template>
                            </template>
                        </div>

                        <div class="xl:col-span-4 space-y-10 stagger-4">
                            <div class="p-10 rounded-[3rem] linear-border bg-gradient-to-b from-indigo-500/5 to-transparent space-y-10">
                                <div>
                                    <p class="text-[10px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-6">System Vitals</p>
                                    <div class="space-y-8">
                                        <div class="space-y-3">
                                            <div class="flex justify-between text-[10px] font-bold uppercase tracking-tighter">
                                                <span class="text-zinc-400">Neural Load</span>
                                                <span class="text-indigo-400">42%</span>
                                            </div>
                                            <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                                                <div class="h-full bg-indigo-500 w-[42%] shadow-[0_0_10px_rgba(47,107,255,0.5)]"></div>
                                            </div>
                                        </div>
                                        <div class="space-y-3">
                                            <div class="flex justify-between text-[10px] font-bold uppercase tracking-tighter">
                                                <span class="text-zinc-400">Memory Cluster</span>
                                                <span class="text-indigo-400">68%</span>
                                            </div>
                                            <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                                                <div class="h-full bg-indigo-500 w-[68%] shadow-[0_0_10px_rgba(47,107,255,0.5)]"></div>
                                            </div>
                                        </div>
                                        <div class="space-y-3">
                                            <div class="flex justify-between text-[10px] font-bold uppercase tracking-tighter">
                                                <span class="text-zinc-400">Network Latency</span>
                                                <span class="text-emerald-400">12ms</span>
                                            </div>
                                            <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                                                <div class="h-full bg-emerald-500 w-[15%] shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="pt-6 border-t border-white/5">
                                    <p class="text-[10px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-4">Encryption Node</p>
                                    <div class="p-4 rounded-2xl bg-black/40 border border-white/5 font-mono text-[10px] text-zinc-500 break-all leading-relaxed">
                                        RSA_V4_SECURE_LINK::STACKFORM_0x4F2A...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div x-show="lead" x-cloak class="fixed inset-0 z-[100] flex items-center justify-center p-6" x-data="{ outreachMode: false, subject: '', body: '' }">
            <div @click="lead = null; outreachMode = false" class="absolute inset-0 bg-black/80 backdrop-blur-md"></div>
            
            <div class="relative w-full max-w-5xl flex items-center justify-center">
                <div :class="outreachMode ? 'opacity-40 blur-md pointer-events-none -translate-x-12 scale-95' : 'opacity-100 blur-0 translate-x-0 scale-100'" class="relative w-full bg-[#0a0a0a] border border-white/10 rounded-[2.5rem] shadow-2xl flex flex-col max-h-[85vh] transition-all duration-700 ease-in-out z-10">
                    <button @click="lead = null; outreachMode = false" class="absolute top-6 right-8 z-[110] close-btn-circular text-zinc-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                    <div class="p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02] rounded-t-[2.5rem]">
                        <div class="flex items-center gap-6">
                            <div class="w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center text-2xl font-black shadow-lg shadow-indigo-500/20" x-text="lead ? lead.name.charAt(0) : ''"></div>
                            <div>
                                <span class="text-[10px] font-black text-indigo-500 uppercase tracking-[0.3em]" x-text="'TRANSMISSION // ' + (lead ? lead.id.slice(0,8) : '...')"></span>
                                <h2 class="text-3xl font-bold tracking-tighter" x-text="lead ? lead.name : ''"></h2>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-1 overflow-hidden relative">
                        <div class="w-80 border-r border-white/5 p-8 space-y-6 bg-black/20 overflow-y-auto custom-scroll shrink-0">
                            <div>
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-3">Electronic Mail</p>
                                <p class="text-sm font-medium text-white break-all bg-white/5 p-3 rounded-xl border border-white/5" x-text="lead ? lead.email : ''"></p>
                            </div>
                            <div>
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-3">Communication Node</p>
                                <p class="text-sm font-medium text-white bg-white/5 p-3 rounded-xl border border-white/5 mono" x-text="lead ? lead.phone : ''"></p>
                            </div>
                            <div>
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-3">Service Tier</p>
                                <p class="text-xs font-black text-indigo-400 bg-indigo-500/10 p-3 rounded-xl border border-indigo-500/20 uppercase tracking-tight" x-text="lead ? lead.service : ''"></p>
                            </div>
                            <div>
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-3">Protocol Status</p>
                                <div class="flex items-center gap-3 bg-emerald-500/5 p-3 rounded-xl border border-emerald-500/10">
                                    <span class="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981]"></span>
                                    <p class="text-xs font-black text-emerald-400 uppercase" x-text="lead ? lead.status : ''"></p>
                                </div>
                            </div>
                        </div>
                        <div class="p-10 flex flex-col h-full space-y-6 w-full">
                            <div class="flex-1">
                                <p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                                    Decrypted Message Payload
                                </p>
                                <div class="w-full bg-zinc-900/50 border border-white/10 rounded-[2rem] p-8 min-h-[300px] text-zinc-200 text-lg leading-relaxed shadow-inner font-light italic">
                                    "<span x-text="lead ? lead.message : 'No message provided.'"></span>"
                                </div>
                            </div>
                            <div class="flex gap-4">
                                <button @click="outreachMode = true" class="flex-1 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-xs font-black uppercase tracking-[0.2em] transition-all levitate-btn active:scale-95">Initialize Outreach</button>
                                <button @click="deleteLead(lead.id); lead = null" class="px-8 py-4 border border-rose-500/20 hover:bg-rose-500/10 rounded-2xl text-[10px] font-black uppercase text-rose-400 transition-all levitate-btn active:scale-95">Archive & Delete</button>
                            </div>
                        </div>
                    </div>
                </div>

                <button x-show="outreachMode" x-transition:enter="transition duration-500 delay-300 opacity-0 -translate-x-4" x-transition:enter-end="opacity-100 translate-x-0" x-transition:leave="transition duration-400 opacity-100 translate-x-0" x-transition:leave-end="opacity-0 translate-x-full" @click="outreachMode = false" class="absolute left-[250px] top-1/2 -translate-y-1/2 z-[130] w-12 h-12 flex items-center justify-center bg-black/40 text-zinc-500 rounded-full border border-white/5 transition-all back-btn-hover shadow-xl active:scale-90">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"></path></svg>
                </button>

                <div x-show="outreachMode" x-transition:enter="transition ease-out duration-700 transform" x-transition:enter-start="translate-x-full opacity-0 scale-95" x-transition:enter-end="translate-x-0 opacity-100 scale-100" x-transition:leave="transition ease-in-out duration-700 transform" x-transition:leave-start="translate-x-0 opacity-100 scale-100" x-transition:leave-end="translate-x-[110%] opacity-0" class="absolute right-0 w-full max-w-2xl bg-[#0a0a0a] border border-white/10 rounded-[2.5rem] shadow-2xl z-[120] flex flex-col overflow-hidden h-auto max-h-[85vh]">
                    <button @click="outreachMode = false" class="absolute top-6 right-8 z-[110] close-btn-circular text-zinc-500">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                    <div class="px-10 py-8 border-b border-white/5 bg-white/[0.02] flex items-center justify-between shrink-0">
                        <div>
                            <span class="text-[9px] font-black text-indigo-500 uppercase tracking-[0.3em]">SECURE_COMPOSER</span>
                            <h2 class="text-2xl font-bold tracking-tighter">Draft Transmission</h2>
                        </div>
                    </div>
                    <div class="p-8 flex flex-col space-y-6">
                        <div class="space-y-4">
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-zinc-500 uppercase tracking-widest ml-1">Recipient</label>
                                <input type="text" :value="lead ? lead.email : ''" readonly class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-xs text-zinc-400">
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-zinc-500 uppercase tracking-widest ml-1">Subject</label>
                                <input type="text" x-model="subject" placeholder="Enter subject..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-xs text-white focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/30 outline-none">
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] font-black text-zinc-500 uppercase tracking-widest ml-1">Message Body</label>
                                <textarea x-model="body" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-sm text-white focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/30 outline-none resize-none h-56" placeholder="Type response here..."></textarea>
                            </div>
                        </div>
                        <button @click="window.location.href = `mailto:${lead.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`; outreachMode = false" class="w-full py-5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] levitate-btn active:scale-95">Dispatch Transmission</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let myChart;
        const emptyChartPlugin = {
            id: 'emptyChart',
            afterDraw(chart) {
                if (chart.data.datasets[0].data.length === 0) {
                    const { ctx, width, height } = chart;
                    ctx.save(); ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
                    ctx.font = 'bold 12px Inter'; ctx.fillStyle = '#52525b';
                    ctx.fillText('NO DATA AVAILABLE', width / 2, height / 2);
                    ctx.restore();
                }
            }
        };
        function initChart() {
            const ctx = document.getElementById('interactionChart').getContext('2d');
            myChart = new Chart(ctx, {
                type: 'line', plugins: [emptyChartPlugin],
                data: { labels: [], datasets: [{ data: [], borderColor: '#2F6BFF', backgroundColor: 'rgba(47, 107, 255, 0.1)', borderWidth: 4, fill: true, tension: 0.4, pointRadius: 0 }] },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { grid: { color: 'rgba(255,255,255,0.02)' }, ticks: { display: false } } } }
            });
        }
        function updateChart(views) {
            if(!myChart) return;
            if(views && views.length > 0) {
                myChart.data.labels = views.map(v => v.timestamp.split('T')[0]);
                myChart.data.datasets[0].data = views.map(v => v.count);
            } else { myChart.data.labels = []; myChart.data.datasets[0].data = []; }
            myChart.update();
        }
        function initParticles() {
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
            window.addEventListener('resize', resize);
            resize();
            class Particle {
                constructor() { this.reset(); }
                reset() {
                    this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 1.5; this.speedX = (Math.random() - 0.5) * 0.3;
                    this.speedY = (Math.random() - 0.5) * 0.3; this.life = Math.random() * 0.4;
                }
                update() {
                    this.x += this.speedX; this.y += this.speedY;
                    if (this.x > canvas.width || this.x < 0 || this.y > canvas.height || this.y < 0) this.reset();
                }
                draw() {
                    ctx.fillStyle = `rgba(47, 107, 255, ${this.life})`;
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
                }
            }
            for (let i = 0; i < 60; i++) particles.push(new Particle());
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>